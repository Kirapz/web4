import { db } from "./firebase";
import { doc, setDoc } from "firebase/firestore";

const foodData = [
  { id: 1, name: "Наполеон", category: "торти", price: 260, image: "cake.jpg" },
  { id: 2, name: "Київський торт", category: "торти", price: 300, image: "classic_cake.jpg" },
  { id: 3, name: "Шоколадно-малиновий мусовий торт", category: "торти", price: 350, image: "mysscake1.jpg" },
  { id: 4, name: "Мангово-кокосовий мусовий торт", category: "торти", price: 350, image: "mysscake2.jpg" },
  { id: 5, name: "Шоколадні Еклери", category: "еклери", price: 65, image: "eclair1.jpg" },
  { id: 6, name: "Ванільні еклери", category: "еклери", price: 65, image: "eclair2.jpg" },
  { id: 7, name: "Шоколадний круасан", category: "круасан", price: 110, image: "croasan1.jpg" },
  { id: 8, name: "Мигдалевий круасан", category: "круасан", price: 120, image: "croasan2.jpg" },
  { id: 9, name: "Класичний круасан", category: "круасан", price: 90, image: "croasan3.jpg" },
  { id: 10, name: "Фісташкові Макарони", category: "тістечка", price: 120, image: "macarons1.jpg" },
  { id: 11, name: "Малинові макарони", category: "тістечка", price: 110, image: "macarons2.jpg" },
  { id: 12, name: "Шоколадні Макарони", category: "тістечка", price: 140, image: "macarons3.jpg" },
  { id: 13, name: "Чізкейк", category: "тістечка", price: 250, image: "cheesecake.jpg" },
  { id: 14, name: "Тірамісу", category: "тістечка", price: 280, image: "tiramisu.jpg" },
  { id: 15, name: "Карамельне крамбл-кукі", category: "печево", price: 50, image: "caramelcookie.jpg" },
  { id: 16, name: "Ягідне крамбл-кукі", category: "печево", price: 50, image: "berrycookie.jpg" },
  { id: 17, name: "Шоколадне крамбл-кукі", category: "печево", price: 55, image: "chocoladcookie.jpg" },
  { id: 18, name: "Какао", category: "напої", price: 50, image: "cocoa.jpg" },
  { id: 19, name: "Латте з бабл", category: "напої", price: 80, image: "latte.jpg" },
  { id: 20, name: "Матча-лате", category: "напої", price: 90, image: "matcha.jpg" },
];

export const uploadMenuData = async () => {
  try {
    for (const item of foodData) {
      const itemRef = doc(db, "menu", String(item.id)); 
      await setDoc(itemRef, {
        name: item.name,
        category: item.category,
        price: item.price,
        image: item.image,
      }, { merge: true }); 
      console.log(`Uploaded/Updated: ${item.name}`);
    }
    console.log("Menu data uploaded without duplicates.");
  } catch (error) {
    console.error("Error uploading data:", error);
  }
};

export default uploadMenuData;
